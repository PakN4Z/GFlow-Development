(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1683,4092],{4762:function(n,e,r){"use strict";r.d(e,{T:function(){return a}});var o=r(5152),t=r.n(o);let a=t()(r.e(1237).then(r.bind(r,31237)).then(n=>n.Logo),{loadableGenerated:{webpack:()=>[31237]}})},72840:function(n,e,r){"use strict";r.d(e,{x:function(){return a}});var o=r(5152),t=r.n(o);let a=t()(r.e(1038).then(r.bind(r,91038)).then(n=>n.LoginLocaleSelect),{loadableGenerated:{webpack:()=>[91038]}})},74092:function(n,e,r){"use strict";r.r(e),r.d(e,{FormLogin:function(){return j}});var o=r(7297),t=r(85893),a=r(4762),s=r(69511),i=r(80671),l=r(39002),d=r(91540),u=r(57202),m=r(60194),c=r(54799),p=r(3303),g=r(36471),h=r(74279),v=r(47533),f=r(11163),_=r(4004),x=r(67294),w=r(87536),b=r(23925),F=r(74231),L=r(72840);function y(){let n=(0,o.Z)(["\n  .FormLogin_inner_inner {\n    max-width: 100%;\n  }\n  .FormLogin_locale_select {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 15px;\n  }\n\n  .error-container {\n    padding: 20px 15px 20px 40px;\n    background-color: #ffecec;\n    border-radius: 10px;\n    margin-bottom: 30px;\n    max-width: 350px;\n\n    .error-message {\n      display: flex;\n      align-items: flex-start;\n      justify-content: center;\n      svg {\n        path {\n          fill: #d91919;\n        }\n      }\n      p {\n        font: normal normal 600 14px/19px Open Sans;\n        color: #d91919;\n        margin: 0 0 0 7px;\n      }\n    }\n  }\n\n  .FormLogin_locale_paragraph {\n    font: normal normal normal 14px/20px Open Sans;\n  }\n\n  .FormLogin_header {\n    font: normal normal 800 25px/34px Open Sans;\n    margin-bottom: 8px;\n  }\n\n  .FormLogin_paragraph {\n    font: normal normal normal 14px/19px Open Sans;\n    color: #6d6e71;\n    margin-bottom: 30px;\n  }\n\n  .FormLogin_logo > * {\n    width: 193px;\n    margin-bottom: 30px;\n  }\n\n  .FormLogin_r1,\n  .FormLogin_r2 {\n    margin-bottom: 20px;\n  }\n\n  .FormLogin_r3 {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 35px;\n  }\n\n  .__Modal_Buttons_Div__ {\n    button {\n      width: 100% !important;\n    }\n  }\n"]);return y=function(){return n},n}let j=()=>{var n,e,r,o,i,b,y,j;let{t:k}=(0,_.$G)(),R=(0,f.useRouter)(),P=(0,u.I)(),E=(0,u.v)(n=>n.modalsAndForms.login),M=(0,u.v)(n=>n.auth.authCheckComplete),I=(null==R?void 0:R.isReady)&&!M,N=(null==R?void 0:R.isReady)&&!M,[C,O]=x.useState({doesEmailExist:!1,isIncorrectPassword:!1}),Z=F.Ry().shape({username:F.Z_().required(k("modals-and-forms:::FormLogin::text7")).email(()=>k("modals-and-forms:::FormLogin::invalidEmail")),password:F.Z_().required(k("modals-and-forms:::FormLogin::text7")).min(8,()=>k("modals-and-forms:::FormLogin::invalidPassword")).matches(h.Gw,()=>k("modals-and-forms:::FormLogin::invalidPassword")),rememberMe:F.O7().notRequired()}),{register:G,handleSubmit:S,resetField:T,watch:A,formState:{errors:B},control:D}=(0,w.cI)({resolver:(0,v.X)(Z),defaultValues:{username:"",password:"",rememberMe:!0}}),z=S(async n=>{await (0,g.vX)({password:null==n?void 0:n.password,email:null==n?void 0:n.username}).then(e=>{var r,o;(null==e?void 0:e.status)==="ok"&&(null==e?void 0:null===(r=e.payload)||void 0===r?void 0:r.success)&&(P((0,c.m3)({username:null==n?void 0:n.username,password:null==n?void 0:n.password,rememberMe:null==n?void 0:n.rememberMe,loginFrom:(null==E?void 0:E.loginFrom)||"default-login",redirectPathAfterLogin:(null==E?void 0:E.redirectPathAfterLogin)||""})),O(n=>({...n,doesEmailExist:!1,isIncorrectPassword:!1}))),(null==e?void 0:e.status)==="skip"&&(null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.error)&&O(n=>({...n,doesEmailExist:!0,isIncorrectPassword:!0}))})});return(0,t.jsxs)(q,{id:"FormLogin",onSubmit:z,children:[(0,t.jsx)("div",{className:"FormLogin_inner",children:(0,t.jsxs)("div",{className:"FormLogin_inner_inner",children:[(0,t.jsx)("div",{className:"FormLogin_logo",children:(0,t.jsx)(a.T,{})}),(0,t.jsxs)("div",{className:"FormLogin_text",children:[(0,t.jsx)("div",{className:"FormLogin_header",children:k("modals-and-forms:::FormLogin::loginHeader")}),(0,t.jsx)("div",{className:"FormLogin_paragraph",children:k("modals-and-forms:::FormLogin::loginParagraph")})]}),(null==C?void 0:C.doesEmailExist)&&(null==B?void 0:null===(n=B.username)||void 0===n?void 0:n.type)!=="required"?(0,t.jsx)("div",{className:"error-container",children:(null==C?void 0:C.doesEmailExist)?(0,t.jsxs)("div",{className:"error-message",children:[(0,t.jsx)(m.Y,{}),(0,t.jsx)("p",{children:k("modals-and-forms:::FormLogin::invalidEmail")})]}):null}):(null==C?void 0:C.isIncorrectPassword)&&(null==B?void 0:null===(e=B.password)||void 0===e?void 0:e.type)!=="required"?(0,t.jsx)("div",{className:"error-container",children:(null==C?void 0:C.isIncorrectPassword)?(0,t.jsxs)("div",{className:"error-message",children:[(0,t.jsx)(m.Y,{}),(0,t.jsx)("p",{children:k("modals-and-forms:::FormLogin::WrongPassword")})]}):null}):null,(0,t.jsxs)("div",{className:"FormLogin_locale_select",onClick:()=>{T("password"),T("username")},children:[(0,t.jsx)("div",{className:"FormLogin_locale_paragraph",children:k("modals-and-forms:::FormLogin::selectLanguage")}),(0,t.jsx)(L.x,{})]}),(0,t.jsx)("div",{className:"FormLogin_r1",children:(0,t.jsx)(l.I,{IsErrorMessage:(null==B?void 0:null===(r=B.username)||void 0===r?void 0:r.type)==="required",input:{type:"email",placeholder:k("modals-and-forms:::FormLogin::text2"),...G("username")},error:(null==B?void 0:null===(o=B.username)||void 0===o?void 0:o.message)?null==B?void 0:null===(i=B.username)||void 0===i?void 0:i.message:(null==C?void 0:C.doesEmailExist)?k("modals-and-forms:::FormLogin::invalidEmail"):""})}),(0,t.jsx)("div",{className:"FormLogin_r2",children:(0,t.jsx)(l.I,{IsErrorMessage:(null==B?void 0:null===(b=B.password)||void 0===b?void 0:b.type)==="required",input:{placeholder:k("modals-and-forms:::FormLogin::text3"),type:"password",...G("password",{required:!0}),value:A("password")},error:(null==B?void 0:null===(y=B.password)||void 0===y?void 0:y.message)?null==B?void 0:null===(j=B.password)||void 0===j?void 0:j.message:(null==C?void 0:C.isIncorrectPassword)?k("modals-and-forms:::FormLogin::WrongPassword"):""})}),(0,t.jsxs)("div",{className:"FormLogin_r3",children:[(0,t.jsx)(w.Qr,{defaultValue:!0,name:"rememberMe",control:D,render:n=>{let{field:e}=n;return(0,t.jsx)(d.o,{input:{...e,checked:null==e?void 0:e.value,placeholder:k("modals-and-forms:::FormLogin::text4"),onChange:n=>{var r;null==e||null===(r=e.onChange)||void 0===r||r.call(e,n)}}})}}),(0,t.jsx)("div",{className:"FormLogin_forgot_password",children:(0,t.jsx)(s.z,{borderRadius:"borderRadius5",styleType:"noBackground",size:"height39",button:{type:"button",onClick:()=>{P((0,p.SetPasswordReminderData)({openModalType:"view"}))}},children:k("modals-and-forms:::FormLogin::forgotPassword")})})]})]})}),(0,t.jsx)("div",{className:"__Modal_Buttons_Div__",children:(0,t.jsx)(s.z,{borderRadius:"borderRadius7",styleType:"background",size:"height49",button:{type:"submit",disabled:I},isLoading:N,children:k("modals-and-forms:::FormLogin::login")})})]})},q=(0,b.ZP)(i.l).withConfig({componentId:"sc-4c9929ca-0"})(y())},81683:function(n,e,r){"use strict";r.r(e),r.d(e,{ModalLogin:function(){return l}});var o=r(85893),t=r(74286),a=r(57202),s=r(3303);r(67294);var i=r(74092);let l=()=>{let n=(0,a.I)(),e=(0,a.v)(n=>n.device.isMobile),r=(0,a.v)(n=>n.modalsAndForms.login);return(0,o.jsx)(t.u,{showCloseBtn:!0,isOpen:!!(null==r?void 0:r.openModalType),closeOnRouteChange:!!(null==r?void 0:r.closeOnRouteChange),onReqClose:()=>n((0,s.SetLoginData)({openModalType:null})),modalType:"stickyHeader",requiredIdOne:"FormLogin",classNameButtonsDiv:"__Modal_Buttons_Div__",isModalFullscreen:e,style:{overlay:{zIndex:(null==r?void 0:r.modalZIndex)||1100,...null==r?void 0:r.styleOverlay},content:{...null==r?void 0:r.styleContent}},children:(0,o.jsx)(i.FormLogin,{})})}},69511:function(n,e,r){"use strict";r.d(e,{z:function(){return a}});var o=r(5152),t=r.n(o);let a=t()(Promise.all([r.e(2064),r.e(4647)]).then(r.bind(r,42064)).then(n=>n.Button),{loadableGenerated:{webpack:()=>[42064]}})},80671:function(n,e,r){"use strict";r.d(e,{l:function(){return a}});var o=r(5152),t=r.n(o);let a=t()(r.e(4633).then(r.bind(r,14633)).then(n=>n.Form),{loadableGenerated:{webpack:()=>[14633]}})},91540:function(n,e,r){"use strict";r.d(e,{o:function(){return a}});var o=r(5152),t=r.n(o);let a=t()(r.e(2032).then(r.bind(r,42032)).then(n=>n.InputCheckbox),{loadableGenerated:{webpack:()=>[42032]}})},39002:function(n,e,r){"use strict";r.d(e,{I:function(){return a}});var o=r(5152),t=r.n(o);let a=t()(Promise.all([r.e(1029),r.e(9777)]).then(r.bind(r,21029)).then(n=>n.Input),{loadableGenerated:{webpack:()=>[21029]}})},74286:function(n,e,r){"use strict";r.d(e,{u:function(){return a}});var o=r(5152),t=r.n(o);let a=t()(Promise.all([r.e(8913),r.e(9211)]).then(r.bind(r,79211)).then(n=>n.Modal),{loadableGenerated:{webpack:()=>[79211]}})},60194:function(n,e,r){"use strict";r.d(e,{Y:function(){return t}});var o=r(85893);r(67294);let t=n=>(0,o.jsxs)("svg",{id:"Group_12260","data-name":"Group 12260",xmlns:"http://www.w3.org/2000/svg",width:"17.051",height:"17",viewBox:"0 0 17.051 17",...n,children:[(0,o.jsx)("rect",{id:"Rectangle_4558","data-name":"Rectangle 4558",width:"17",height:"17",transform:"translate(0.05 0)",fill:"rgba(255,255,255,0)"}),(0,o.jsx)("path",{id:"Path_5101","data-name":"Path 5101",d:"M14.5,6A8.5,8.5,0,1,0,23,14.5,8.5,8.5,0,0,0,14.5,6Zm-1.055,4.25a1.062,1.062,0,1,1,2.125,0v4.88a1.062,1.062,0,0,1-2.125,0ZM14.5,19.813a1.218,1.218,0,1,1,1.218-1.218A1.218,1.218,0,0,1,14.5,19.813Z",transform:"translate(-6 -6)",fill:"#d91919"})]})},54799:function(n,e,r){"use strict";r.d(e,{uF:function(){return L},Lq:function(){return s},m3:function(){return b},GE:function(){return x},RD:function(){return F},Vn:function(){return a},Zr:function(){return y},z2:function(){return k},yZ:function(){return j},tq:function(){return q},Pk:function(){return l},wU:function(){return f},T1:function(){return w},ap:function(){return h},rL:function(){return p},yl:function(){return i},pC:function(){return g},P$:function(){return v},QF:function(){return c},Mv:function(){return m},WX:function(){return d},lx:function(){return u},FH:function(){return _},Tl:function(){return t}});var o=r(75462);let t=(0,o.mq)("auth.set_permissions"),a=(0,o.mq)("auth.merge_permissions"),s=(0,o.mq)("auth.get_permissions"),i=(0,o.mq)("auth.set_logged_in"),l=(0,o.mq)("auth.set_auth_check_complete"),d=(0,o.mq)("auth.set_login_error"),u=(0,o.mq)("auth.set_login_success"),m=(0,o.mq)("auth.set_logged_in_user"),c=(0,o.mq)("auth.set_is_user"),p=(0,o.mq)("auth.set_is_employee"),g=(0,o.mq)("auth.set_is_manager"),h=(0,o.mq)("auth.set_is_administrator"),v=(0,o.mq)("auth.set_is_super_admin"),f=(0,o.mq)("auth.set_auth_level"),_=(0,o.mq)("auth.set_new_auth_state"),x=(0,o.mq)("auth.login_was_success"),w=(0,o.mq)("auth.set_auth_state"),b=(0,o.mq)("auth.login"),F=(0,o.mq)("auth.logout"),L=(0,o.mq)("auth.check_auth"),y=(0,o.mq)("auth.re_check_auth"),j=(0,o.mq)("auth.remind_password"),q=(0,o.mq)("auth.reset_password"),k=(0,o.mq)("auth.remember_login")},36471:function(n,e,r){"use strict";r.d(e,{gX:function(){return s},tu:function(){return a},vX:function(){return i}});var o=r(655),t=r(70594);let a=async n=>{try{let e=await t.Z.post(o.MF["user/email-validation"],n);return e.data}catch(r){return console.error("fetchUsersApiQuery > ERROR: ".concat(r)),r}},s=async n=>{try{let e=await t.Z.post(o.MF["user/reset-password"],n);return null==e?void 0:e.data}catch(r){return console.error("ResetUserPasswordApiQuery > ERROR: ".concat(r)),r}},i=async n=>{try{let e=await t.Z.post(o.MF["user/user-data-validation"],n);return e.data}catch(r){return console.error("UserDataValidation > ERROR: ".concat(r)),r}}},11163:function(n,e,r){n.exports=r(80880)}}]);